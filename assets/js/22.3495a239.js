(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{402:function(t,s){t.exports="data:image/png;base64,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"},480:function(t,s,a){"use strict";a.r(s);var n=a(2),A=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"title"}),s("p",[t._v("在"),s("code",[t._v("forEach")]),t._v("中遍历"),s("code",[t._v("Set")]),t._v("集合时，如果一个值已经被访问过了，但该值被删除并重新添加到集合，如果此时"),s("code",[t._v("forEach")]),t._v("遍历没有结束，那么该值会重新被访问，这样就会造成无限循环下去。")])]),t._v(" "),s("h2",{attrs:{id:"foreach遍历访问set造成的无限循环问题"}},[t._v("forEach遍历访问set造成的无限循环问题")]),t._v(" "),s("h3",{attrs:{id:"抛出问题"}},[t._v("抛出问题")]),t._v(" "),s("p",[t._v("先给出一段代码，我们创建了一个集合"),s("code",[t._v("set")]),t._v("，它里面有一个元素数字1和2，接着我们调用"),s("code",[t._v("forEach")]),t._v("方法来遍历该集合。在遍历函数中，首先调用"),s("code",[t._v("delete")]),t._v("方法删除数字"),s("code",[t._v("1")]),t._v("，再执行了某些业务操作后紧接着调用"),s("code",[t._v("add")]),t._v("方法将数字"),s("code",[t._v("1")]),t._v("加回，最后打印 "),s("code",[t._v("'forEach'")]),t._v("。如果我们在浏览器中执行这段代码，就会发现它会无限执行下去。")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" set "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Set")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nset"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("forEach")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("item")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  set"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("delete")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 这里执行了某些操作")]),t._v("\n  set"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'forEach'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br")])]),s("p",[t._v("在控制台执行一下，效果如下：")]),t._v(" "),s("p",[s("img",{attrs:{src:a(402),alt:"无限循环"}})]),t._v(" "),s("h3",{attrs:{id:"解释一下原因"}},[t._v("解释一下原因")]),t._v(" "),s("p",[t._v("用官方的原话是这样说的："),s("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Set/forEach",target:"_blank",rel:"noopener noreferrer"}},[t._v("官方地址"),s("OutboundLink")],1)]),t._v(" "),s("blockquote",[s("p",[t._v("每个值都访问一次，除非在 "),s("code",[t._v("forEach()")]),t._v(" 完成之前删除并重新添加它。在访问之前删除的值不会调用 "),s("code",[t._v("callback")]),t._v("。在 "),s("code",[t._v("forEach()")]),t._v(" 完成之前添加的新值将被访问。")])]),t._v(" "),s("p",[t._v("翻译成白话就是在"),s("code",[t._v("forEach")]),t._v("中遍历"),s("code",[t._v("Set")]),t._v("集合时，如果一个值已经被访问过了，但该值被删除并重新添加到集合，如果此时"),s("code",[t._v("forEach")]),t._v("遍历没有结束，那么该值会重新被访问，这样就会造成无限循环下去。")]),t._v(" "),s("h3",{attrs:{id:"解决方案"}},[t._v("解决方案")]),t._v(" "),s("p",[t._v("既然我们找到了原因，那么就需要解决这个问题。解决方案也很简单，就是再新建一个"),s("code",[t._v("newSet")]),t._v("集合做一个副本过渡，如下所示：")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" set "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Set")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" newSet "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Set")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("set"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nnewSet"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("forEach")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("item")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  set"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("delete")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 这里执行了某些操作")]),t._v("\n  set"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'forEach'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br")])])])}),[],!1,null,null,null);s.default=A.exports}}]);